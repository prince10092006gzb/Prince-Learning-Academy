<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prince Learning Academy - Festive Fee Portal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            min-height: 100vh;
            background: #3a1c0b;
            background-image: radial-gradient(circle at 15% 15%, rgba(255, 180, 70, 0.2), transparent 50%),
                              radial-gradient(circle at 85% 75%, rgba(255, 120, 50, 0.2), transparent 50%);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            overflow-x: hidden;
            color: #4f2a17;
        }

        .container {
            position: relative;
            background: #fffaf2;
            width: 100%;
            border-radius: 25px;
            box-shadow: 0 10px 40px rgba(255, 193, 7, 0.5), 0 0 120px rgba(255, 107, 0, 0.4);
            padding: 40px;
            box-sizing: border-box;
            z-index: 2;
            border: 4px solid #ffc107;
        }

        #login-section {
            max-width: 450px;
        }

        #fee-status-section {
            max-width: 800px;
            display: none;
        }

        h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 3.2rem;
            color: #d87c00;
            text-align: center;
            margin-bottom: 10px;
            text-shadow: 0px 0px 15px #ffeb3b, 0px 0px 5px #ffffff;
        }

        h2 {
            font-weight: 600;
            color: #a15800;
            text-align: center;
            margin-bottom: 25px;
            letter-spacing: 1px;
        }

        h3 {
            text-transform: uppercase;
            font-weight: 600;
            color: #a15800;
            letter-spacing: 1.5px;
            font-size: 1rem;
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ffdd8c;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #8c5a1c;
            font-weight: 600;
        }

        input[type="text"], input[type="password"] {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            border: 2px solid #fbc02d;
            font-size: 16px;
            box-sizing: border-box;
            background: #fffdf9;
            color: #6d4c41;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus, input[type="password"]:focus {
            border-color: #ffa000;
            outline: none;
            box-shadow: 0 0 12px rgba(255, 179, 0, 0.6);
        }
        
        #login-button {
            width: 100%;
            padding: 15px;
            margin-top: 15px;
            background: linear-gradient(45deg, #ffb300, #f57c00);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 5px 15px rgba(245, 124, 0, 0.4);
            transition: all 0.3s ease;
        }

        #login-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 179, 0, 0.6);
        }

        footer {
            margin-top: 30px;
            text-align: center;
            font-size: 12px;
            color: #a1887f;
            font-weight: 500;
        }
        
        .director-name {
            font-weight: 700;
            color: #795548;
            margin-top: 10px;
        }

        .diwali-greeting {
            font-family: 'Great Vibes', cursive;
            font-size: 2.2rem;
            text-align: center;
            margin: 15px 0;
            color: #f57c00;
            text-shadow: 0 0 15px #ffca28;
        }

        .festival-wishes {
            text-align: center;
            margin: 20px 0;
        }

        .festival-wishes p {
            font-family: 'Poppins', sans-serif;
            font-size: 1.1rem;
            color: #a15800;
            margin: 8px 0;
            font-weight: 600;
        }

        .student-info {
            background: #fffdf9;
            border-left: 6px solid #ffb300;
            padding: 20px 25px;
            margin-bottom: 30px;
            border-radius: 15px;
        }

        .student-info h3 { text-align: left; border: none; }
        .student-info p { font-size: 1.1em; color: #6d4c41; }
        
        table {
            width: 100%;
            border-collapse: collapse;
            box-shadow: 0 5px 20px rgba(181, 105, 0, 0.2);
            border-radius: 15px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(to right, #ffca28, #ffb300);
            color: #6d4c41;
            font-weight: 700;
        }

        th, td { padding: 14px; text-align: left; border-bottom: 1px solid #ffecb3; }
        tr:last-child td { border-bottom: none; }
        tr:nth-child(even) { background-color: #fffaf0; }

        .status-paid { color: #388e3c; font-weight: 600; }
        .status-due { color: #d32f2f; font-weight: 600; }
        .status-payable { color: #f57c00; font-weight: 600; }

        .action-checkbox { text-align: center; vertical-align: middle; }
        input[type="checkbox"] { transform: scale(1.2); cursor: pointer; }

        .coupon-section {
            margin: 20px 0;
            text-align: right;
        }

        #coupon-code-input {
            width: 150px;
            padding: 8px 12px;
            border-radius: 8px 0 0 8px;
            border: 2px solid #ffdd8c;
            border-right: none;
        }

        #apply-coupon-btn {
            padding: 8px 15px;
            border-radius: 0 8px 8px 0;
            border: 2px solid #ffdd8c;
            background: #ffc107;
            color: #6d4c41;
            font-weight: 600;
            cursor: pointer;
        }
        
        #coupon-message {
            text-align: right;
            margin-top: 5px;
            font-weight: 600;
            font-size: 0.9em;
        }
        
        .coupon-success { color: #388e3c; }
        .coupon-error { color: #d32f2f; }

        .total-due {
            text-align: right;
            font-size: 1.5em;
            font-weight: 700;
            margin: 25px 0;
            color: #d32f2f;
        }

        .pay-now-btn {
            display: block;
            width: 100%;
            padding: 16px;
            background: linear-gradient(45deg, #43a047, #2e7d32);
            color: white;
            text-align: center;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 700;
            text-decoration: none;
            box-shadow: 0 5px 15px rgba(67, 160, 71, 0.4);
            transition: all 0.3s ease;
        }
        
        .pay-now-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(46, 125, 50, 0.5);
        }

        .notice {
            margin-top: 30px;
            padding: 15px;
            background: #fff8e1;
            border-left: 5px solid #ffb300;
            border-radius: 10px;
            font-size: 1em;
            color: #8d6e63;
        }

        #error-message {
            color: #d32f2f;
            text-align: center;
            font-weight: 600;
            margin-top: 15px;
            height: 20px;
        }
        
        header .tagline {
            font-style: italic; 
            color: #8d6e63; 
            text-align: center; 
            font-size: 1.1em;
            margin-top: -15px;
        }
    </style>
</head>
<body>
    <!-- Login Section -->
    <div class="container" id="login-section">
        <h1>Prince Learning Academy</h1>
        <div class="festival-wishes">
            <p class="diwali-greeting">‚ú® Wishing You a Happy Diwali! ‚ú®</p>
        </div>
        <h2>Student Login</h2>
        <h3>Fee Credentials</h3>
        <form id="loginForm">
            <label for="uniqueId">Unique ID</label>
            <input type="text" id="uniqueId" name="uniqueId" required>
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required>
            <button type="submit" id="login-button">Login</button>
        </form>
        <div id="error-message"></div>
        <footer>
            Reserved to Prince Learning Academy with latest record up to 21 October, 2025.
            <div class="director-name">Mr. Prince Chaudhary (Director)</div>
        </footer>
    </div>

    <!-- Fee Status Section -->
    <div class="container" id="fee-status-section">
        <header>
            <h1>Prince Learning Academy</h1>
            <p class="tagline">"To Be The King üëë ! First Be A Prince üòâ"</p>
            <div class="festival-wishes">
                <p>ü™î Happy Diwali! May the light of diyas guide you to success. ü™î</p>
                <p> ‡§Ö‡§®‡•ç‡§®‡§ï‡•Ç‡§ü ‡§ï‡•Ä ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç! Happy Govardhan Puja! üôè</p>
                <p>üëßüë¶ Wishing you a joyous Bhai-Dooj filled with love and happiness! üë¶üëß</p>
            </div>
        </header>

        <div class="student-info">
            <h3>Student Details</h3>
            <p><strong>Name of Student:</strong> <span id="student-name"></span></p>
            <p><strong>Unique ID:</strong> <span id="student-id"></span></p>
            <p><strong>Class:</strong> <span id="student-class"></span></p>
        </div>

        <h3>Monthly Fee Details</h3>
        <table>
            <thead>
                <tr>
                    <th>Month</th>
                    <th>Status</th>
                    <th class="action-checkbox">Select to Pay</th>
                </tr>
            </thead>
            <tbody id="fee-table-body"></tbody>
        </table>

        <div class="coupon-section">
            <input type="text" id="coupon-code-input" placeholder="Coupon Code">
            <button id="apply-coupon-btn">Apply</button>
        </div>
        <div id="coupon-message"></div>
        
        <div class="total-due">
            Total Payable: ‚Çπ<span id="total-due-amount">0.00</span>
        </div>

        <a href="#" id="pay-now-link" class="pay-now-btn">PAY NOW</a>

        <div class="notice">
            <strong>Important Notice:</strong> After payment, kindly send a screenshot to <strong>7310680106</strong>. Your fee status will be updated within 48 hours.
        </div>

        <footer>
             Reserved to Prince Learning Academy with latest record up to 21 October, 2025.
             <div class="director-name">Mr. Prince Chaudhary (Director)</div>
        </footer>
    </div>

    <script>
        const studentDatabase = {
            "1": {"password": "A1", "name": "Devansh", "class": "K.G", "fee_per_month": 500, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "2": {"password": "A2", "name": "Diksha", "class": "4", "fee_per_month": 600, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "3": {"password": "A3", "name": "Gauri", "class": "4", "fee_per_month": 1500, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "4": {"password": "A4", "name": "Kriyansh", "class": "3", "fee_per_month": 1500, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "Due", "October Due Amount": 500}},
            "5": {"password": "A5", "name": "Mahi", "class": "2", "fee_per_month": 800, "fees": {"July": "PAID", "August": "Due", "September": "Due", "October": "Due", "October Due Amount": null}},
            "6": {"password": "A6", "name": "Nipun", "class": "3", "fee_per_month": 1500, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "7": {"password": "A7", "name": "Rachit", "class": "2", "fee_per_month": 800, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "9": {"password": "A9", "name": "Rudransh", "class": "K.G", "fee_per_month": 3000, "fees": {"July": "PAID", "August": "PAID", "September": "Due", "October": "Due", "October Due Amount": null}},
            "10": {"password": "B1", "name": "Bhumika", "class": "8", "fee_per_month": 1500, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "12": {"password": "B3", "name": "Devansh", "class": "6", "fee_per_month": 1500, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "13": {"password": "B4", "name": "Mayank", "class": "6", "fee_per_month": 1500, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "14": {"password": "B6", "name": "Radhika", "class": "8", "fee_per_month": 3000, "fees": {"July": "PAID", "August": "PAID", "September": "Due", "October": "Due", "October Due Amount": null}},
            "16": {"password": "C1", "name": "Aanvi", "class": "9", "fee_per_month": 600, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "17": {"password": "C2", "name": "Aaryan", "class": "9", "fee_per_month": 1350, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "Due", "October Due Amount": 727}},
            "18": {"password": "C3", "name": "Dev", "class": "9", "fee_per_month": 1350, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "19": {"password": "C4", "name": "Vansh", "class": "9", "fee_per_month": 1350, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "Due", "October Due Amount": 50}},
            "20": {"password": "C5", "name": "Vanshika", "class": "9", "fee_per_month": 600, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "21": {"password": "C6", "name": "Vinnet", "class": "9", "fee_per_month": 1350, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "22": {"password": "D1", "name": "Aaditya Vats", "class": "10", "fee_per_month": 800, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "28": {"password": "A10", "name": "Shristi", "class": "3", "fee_per_month": 3000, "fees": {"July": "PAID", "August": "PAID", "September": "Due", "October": "Due", "October Due Amount": null}},
            "29": {"password": "A11", "name": "Vanshika", "class": "2", "fee_per_month": 800, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "30": {"password": "A12", "name": "Yashi", "class": "K.G", "fee_per_month": 500, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "31": {"password": "C7", "name": "Angila", "class": "9", "fee_per_month": 2000, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}},
            "32": {"password": "A13", "name": "Soumiya Verma", "class": "5", "fee_per_month": 1000, "fees": {"July": "PAID", "August": "PAID", "September": "PAID", "October": "PAID", "October Due Amount": null}}
        };

        const couponCodes = {
            "DIWALI5": 0.05,
            "PLA10": 0.10
        };

        let currentDiscount = 0;

        const loginSection = document.getElementById('login-section');
        const feeStatusSection = document.getElementById('fee-status-section');
        const errorMessage = document.getElementById('error-message');

        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const uniqueId = document.getElementById('uniqueId').value.trim();
            const password = document.getElementById('password').value.trim();
            const student = studentDatabase[uniqueId];

            if (student && student.password === password) {
                errorMessage.textContent = '';
                displayFeeStatus(uniqueId, student);
            } else {
                errorMessage.textContent = 'Invalid credentials. Please try again.';
            }
        });

        document.getElementById('apply-coupon-btn').addEventListener('click', function() {
            const couponInput = document.getElementById('coupon-code-input');
            const couponMessage = document.getElementById('coupon-message');
            const code = couponInput.value.toUpperCase();

            if (couponCodes[code]) {
                currentDiscount = couponCodes[code];
                couponMessage.textContent = `Success! ${currentDiscount * 100}% discount applied.`;
                couponMessage.className = 'coupon-success';
            } else {
                currentDiscount = 0;
                couponMessage.textContent = 'Invalid coupon code.';
                couponMessage.className = 'coupon-error';
            }
            calculateTotalDue();
        });
        
        function displayFeeStatus(id, student) {
            loginSection.style.display = 'none';
            feeStatusSection.style.display = 'block';

            document.getElementById('student-name').textContent = student.name;
            document.getElementById('student-id').textContent = id;
            document.getElementById('student-class').textContent = student.class;

            const tbody = document.getElementById('fee-table-body');
            tbody.innerHTML = '';
            
            const months = ["July", "August", "September", "October", "November", "December", "January", "February"];
            const compulsoryMonths = ["July", "August", "September", "October"];
            
            months.forEach(month => {
                const status = student.fees[month];
                const feePerMonth = student.fee_per_month;
                let dueAmount = 0;
                let displayStatus = "Paid";
                let statusClass = "status-paid";
                let isCompulsoryDue = false;

                if (status === 'PAID') {
                    dueAmount = 0;
                } else if (status === 'Due' && compulsoryMonths.includes(month)) {
                    isCompulsoryDue = true;
                    dueAmount = (month === 'October' && student.fees['October Due Amount']) ? student.fees['October Due Amount'] : feePerMonth;
                    displayStatus = `Due (‚Çπ${dueAmount.toFixed(2)})`;
                    statusClass = "status-due";
                } else {
                    dueAmount = feePerMonth;
                    displayStatus = `Payable (‚Çπ${dueAmount.toFixed(2)})`;
                    statusClass = "status-payable";
                }

                const tr = document.createElement('tr');
                let checkboxHTML = '';

                if (status === 'PAID') {
                    checkboxHTML = `<input type="checkbox" disabled>`;
                } else if (isCompulsoryDue) {
                    checkboxHTML = `<input type="checkbox" class="fee-checkbox" data-amount="${dueAmount}" checked disabled>`;
                } else {
                    checkboxHTML = `<input type="checkbox" class="fee-checkbox" data-amount="${dueAmount}">`;
                }
                
                tr.innerHTML = `
                    <td>${month}</td>
                    <td class="${statusClass}">${displayStatus}</td>
                    <td class="action-checkbox">${checkboxHTML}</td>
                `;
                tbody.appendChild(tr);
            });

            tbody.querySelectorAll('.fee-checkbox:not([disabled])').forEach(chk => {
                chk.addEventListener('change', calculateTotalDue);
            });
            
            calculateTotalDue();
        }

        function calculateTotalDue() {
            let subtotal = 0;
            document.querySelectorAll('.fee-checkbox:checked').forEach(chk => {
                subtotal += parseFloat(chk.dataset.amount);
            });

            const finalTotal = subtotal * (1 - currentDiscount);
            
            document.getElementById('total-due-amount').textContent = finalTotal.toFixed(2);
            updatePayNowLink(finalTotal);
        }

        function updatePayNowLink(amount) {
            const payNowLink = document.getElementById('pay-now-link');
            const payNowButton = document.querySelector('.pay-now-btn');
            
            if (amount > 0) {
                const upiId = '7310680106@fam';
                const studentName = document.getElementById('student-name').textContent.trim();
                const url = `upi://pay?pa=${upiId}&pn=Prince%20Learning%20Academy&am=${amount.toFixed(2)}&cu=INR&tn=Fee%20for%20${encodeURIComponent(studentName)}`;
                payNowLink.href = url;
                payNowButton.style.display = 'block';
            } else {
                payNowButton.style.display = 'none';
            }
        }
    </script>
</body>
</html>
